<?xml version="1.0" encoding="utf-8"?>
<Defs>

    <!-- Bases -->

    <ThingDef Abstract="True" Name="USH_CyberlinkBodyPartBase">
        <thingClass>ThingWithComps</thingClass>
        <graphicData>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>0.85</drawSize>
        </graphicData>
        <category>Item</category>
        <drawerType>MapMeshOnly</drawerType>
        <techLevel>Industrial</techLevel>
        <useHitPoints>true</useHitPoints>
        <pathCost>14</pathCost>
        <selectable>true</selectable>
        <altitudeLayer>Item</altitudeLayer>
        <tickerType>Never</tickerType>
        <alwaysHaulable>true</alwaysHaulable>
        <resourceReadoutPriority>Middle</resourceReadoutPriority>
        <thingCategories>
            <li>USH_BodyPartsHacker</li>
        </thingCategories>
        <recipeMaker>
            <unfinishedThingDef>UnfinishedHealthItemProsthetic</unfinishedThingDef>
            <recipeUsers>
                <li>TableMachining</li>
            </recipeUsers>
            <useIngredientsForColor>false</useIngredientsForColor>
            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
            <workSkill>Crafting</workSkill>
            <effectWorking>Smith</effectWorking>
            <soundWorking>Recipe_Machining</soundWorking>
            <skillRequirements>
                <Crafting>6</Crafting>
            </skillRequirements>
            <displayPriority>650</displayPriority>
        </recipeMaker>
        <comps>
            <li Class="CompProperties_UseEffectDestroySelf" />
            <li Class="CompProperties_UseEffectPlaySound">
                <soundOnUsed>USH_CyberlinkInstalled</soundOnUsed>
            </li>
        </comps>
    </ThingDef>

    <ThingDef Abstract="True" Name="USH_CyberlinkBase" ParentName="USH_CyberlinkBodyPartBase">
        <statBases>
            <MaxHitPoints>100</MaxHitPoints>
            <Beauty>-4</Beauty>
            <Mass>1</Mass>
            <DeteriorationRate>0</DeteriorationRate>
        </statBases>
        <comps>
            <li Class="CompProperties_Forbiddable" />
            <li Class="CompProperties_Usable">
                <compClass>CompUsableImplant</compClass>
                <useJob>USH_InstallCyberlink</useJob>
                <useLabel>Install {0_label}</useLabel>
            </li>
        </comps>
    </ThingDef>

    <HediffDef Abstract="True" Name="USH_InstalledCyberlinkBase" ParentName="ImplantHediffBase">
        <hediffClass>USH_HE.Hediff_Cyberlink</hediffClass>
        <isBad>false</isBad>
        <duplicationAllowed>false</duplicationAllowed>
        <keepOnBodyPartRestoration>true</keepOnBodyPartRestoration>
        <comps>
            <li Class="HediffCompProperties_ReactOnDamage">
                <damageDefIncoming>EMP</damageDefIncoming>
                <createHediff>BrainShock</createHediff>
            </li>
        </comps>
    </HediffDef>

    <!-- Cyberlink -->

    <ThingDef ParentName="USH_CyberlinkBase">
        <defName>USH_Cyberlink</defName>
        <label>cyberlink</label>
        <description>A bionic implant that provides access to cyberspace. Cyberlinks allow installation of other implants and enable hackers to interact with cyber entities more efficiently. Although it offers many benefits, it can also trigger specialized security-system responses that are normally ineffective against disconnected hackers.</description>
        <descriptionHyperlinks>
            <HediffDef>USH_InstalledCyberlink</HediffDef>
        </descriptionHyperlinks>
        <graphicData>
            <texPath>Things/Item/Cyberlink</texPath>
        </graphicData>
        <costList>
            <USH_Cyberdata>10</USH_Cyberdata>
            <ComponentIndustrial>6</ComponentIndustrial>
            <Steel>50</Steel>
        </costList>
        <recipeMaker>
            <researchPrerequisite>USH_BasicCybertech</researchPrerequisite>
        </recipeMaker>
        <comps>
            <li Class="USH_HE.CompProperties_UseEffectInstallCyberlink">
                <hediffDef>USH_InstalledCyberlink</hediffDef>
                <bodyPart>Brain</bodyPart>
                <incompatibleHediffs>
                    <li>USH_InstalledAdvancedCyberlink</li>
                </incompatibleHediffs>
            </li>
        </comps>
    </ThingDef>

    <HediffDef ParentName="USH_InstalledCyberlinkBase">
        <defName>USH_InstalledCyberlink</defName>
        <label>cyberlink</label>
        <description>A bionic implant that allows accessing cyberspace. Cyberlinks allow installment of other implants and let hackers interact with cyber security systems more efficiently.</description>
        <descriptionShort>A bionic implant that allows accessing cyberspace.</descriptionShort>
        <spawnThingOnRemoved>USH_Cyberlink</spawnThingOnRemoved>
        <stages>
            <li>
                <statOffsets>
                    <HackingSpeed>0.1</HackingSpeed>
                </statOffsets>
            </li>
        </stages>
    </HediffDef>

    <!-- Advanced Cyberlink -->

    <ThingDef ParentName="USH_CyberlinkBase">
        <defName>USH_AdvancedCyberlink</defName>
        <label>advanced cyberlink</label>
        <description>An advanced version of the cyberlink, with updated software and additional memory slots for installing complex implants. It allows hackers to establish more stable, coherent connections to cyberspace. It can be installed without a basic cyberlink; if one is present, it will replace it.</description>
        <descriptionHyperlinks>
            <HediffDef>USH_InstalledCyberlink</HediffDef>
            <ThingDef>USH_Cyberlink</ThingDef>
        </descriptionHyperlinks>
        <graphicData>
            <texPath>Things/Item/AdvancedCyberlink</texPath>
        </graphicData>
        <costList>
            <USH_AdvancedCyberdata>4</USH_AdvancedCyberdata>
            <ComponentSpacer>6</ComponentSpacer>
            <Steel>50</Steel>
        </costList>
        <recipeMaker>
            <researchPrerequisite>USH_AdvancedCybertech</researchPrerequisite>
        </recipeMaker>
        <techLevel>Spacer</techLevel>
        <comps>
            <li Class="USH_HE.CompProperties_UseEffectInstallCyberlink">
                <hediffDef>USH_InstalledAdvancedCyberlink</hediffDef>
                <bodyPart>Brain</bodyPart>
                <replaceHediffs>
                    <li>USH_InstalledCyberlink</li>
                </replaceHediffs>
            </li>
        </comps>
    </ThingDef>

    <HediffDef ParentName="USH_InstalledCyberlinkBase">
        <defName>USH_InstalledAdvancedCyberlink</defName>
        <label>advanced cyberlink</label>
        <description>An advanced version of the cyberlink, with updated software and additional memory slots for installing complex implants. It allows hackers to establish more stable, coherent connections to cyberspace.</description>
        <descriptionShort>An advanced version of the cyberlink with updated software and more memory slots for complex implants installment.</descriptionShort>
        <spawnThingOnRemoved>USH_AdvancedCyberlink</spawnThingOnRemoved>
        <stages>
            <li>
                <statOffsets>
                    <HackingSpeed>0.2</HackingSpeed>
                    <HackingStealth>25</HackingStealth>
                    <USH_RemoteHackingDistance>3.9</USH_RemoteHackingDistance>
                </statOffsets>
            </li>
        </stages>
    </HediffDef>

</Defs>